(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2081:(e,t,s)=>{Promise.resolve().then(s.bind(s,9900))},9900:(e,t,s)=>{"use strict";let a,r;s.r(t),s.d(t,{default:()=>x});var l=s(7437),n=s(2265),o=s(6648),i=s(9842);function c(e){let{task:t}=e,[s,a]=(0,n.useState)(t.completed),o=async()=>{a(!s),await (0,i.r7)((0,i.JU)(r,"tasks",t.id),{completed:!s})},c=async()=>{await (0,i.oe)((0,i.JU)(r,"tasks",t.id))};return(0,l.jsxs)("li",{className:"flex items-center justify-between p-4 bg-white rounded-lg shadow",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("input",{type:"checkbox",checked:s,onChange:o,className:"form-checkbox h-5 w-5 text-blue-600"}),(0,l.jsx)("span",{className:s?"line-through text-gray-500":"",children:t.title})]}),(0,l.jsx)("button",{onClick:c,className:"text-red-500 hover:text-red-700",children:"Delete"})]})}function d(e){let{groupId:t}=e,[s,a]=(0,n.useState)([]);return(0,n.useEffect)(()=>{let e=(0,i.IO)((0,i.hJ)(r,"tasks"),(0,i.ar)("groupId","==",t)),s=(0,i.cf)(e,e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),a(t)});return()=>s()},[t]),(0,l.jsx)("ul",{className:"space-y-4",children:s.map(e=>(0,l.jsx)(c,{task:e},e.id))})}function u(e){let{groupId:t}=e,[s,a]=(0,n.useState)(""),[o,c]=(0,n.useState)(null),d=async e=>{if(e.preventDefault(),s.trim()&&r)try{await (0,i.ET)((0,i.hJ)(r,"tasks"),{title:s.trim(),completed:!1,createdAt:new Date,groupId:t}),a(""),c(null)}catch(e){console.error("Error adding task:",e),c("Failed to add task")}};return(0,l.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,l.jsx)("input",{type:"text",value:s,onChange:e=>a(e.target.value),placeholder:"Add a new task",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,l.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition-colors",children:"Add Task"})]})}a=(0,s(5236).ZF)({apiKey:"AIzaSyDINoTMhESibgeFuNdfBgM1XxkpZIfUkZM",authDomain:"tg-test-96e2e.firebaseapp.com",databaseURL:"https://tg-test-96e2e.firebaseio.com",projectId:"tg-test-96e2e",storageBucket:"tg-test-96e2e.firebasestorage.app",messagingSenderId:"575643255548",appId:"1:575643255548:web:5127742c7d4d0128770d79",measurementId:"G-Y6NC43PVWT"}),r=(0,i.ad)(a);var p=s(2137);let h=(0,s(7818).default)(()=>Promise.resolve(m),{ssr:!1});function m(){let[e,t]=(0,n.useState)(null),[s,a]=(0,n.useState)(null),[r,i]=(0,n.useState)(!0),c=(0,p.XRn)();return((0,n.useEffect)(()=>{(async()=>{try{if(null==c?void 0:c.startParam){let e=c.startParam;try{let s=atob(e);console.log("Decoded Group ID:",s),t(s)}catch(e){console.error("Error decoding group ID:",e),a("Invalid group ID format")}}else console.log("No start_param available"),a("No group ID provided")}catch(e){console.error("Error in initializeComponent:",e),a("An error occurred while initializing the component")}finally{i(!1)}})()},[c]),r)?(0,l.jsx)("div",{className:"p-8",children:"Loading..."}):s?(0,l.jsx)("div",{className:"p-8 text-red-500",children:s}):e?(0,l.jsxs)("div",{className:"grid grid-rows-[auto_1fr_auto] min-h-screen p-8 gap-8",children:[(0,l.jsxs)("header",{className:"flex items-center justify-between",children:[(0,l.jsx)(o.default,{className:"dark:invert",src:"/next.svg",alt:"Next.js logo",width:100,height:20,priority:!0}),(0,l.jsxs)("h1",{className:"text-2xl font-bold",children:["Task Board - Group ",e]})]}),(0,l.jsxs)("main",{className:"flex flex-col gap-8",children:[(0,l.jsx)(u,{groupId:e}),(0,l.jsx)(d,{groupId:e})]}),(0,l.jsx)("footer",{className:"flex justify-center text-sm text-gray-500",children:"Powered by Next.js"})]}):(0,l.jsx)("div",{className:"p-8",children:"Please provide a valid group ID"})}function x(){return(0,l.jsx)(n.Suspense,{fallback:(0,l.jsx)("div",{className:"p-8",children:"Loading..."}),children:(0,l.jsx)(h,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[358,558,130,215,744],()=>t(2081)),_N_E=e.O()}]);